<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Send Location on WhatsApp</title>
  <style>
    body {
      background-color: #121212;
      color: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }
    h2 {
      margin-bottom: 10px;
    }
    input, button {
      padding: 10px;
      border: none;
      border-radius: 8px;
      margin: 5px;
      font-size: 16px;
    }
    input {
      width: 250px;
    }
    button {
      background-color: #03dac6;
      color: #000;
      cursor: pointer;
    }
    #map {
      width: 90vw;
      height: 50vh;
      margin: 20px 0;
      border: 2px solid #03dac6;
      border-radius: 10px;
    }
  </style>
</head>
<body>
  <h2>Enter Mobile Number:</h2>
  <input type="tel" id="number" placeholder="e.g., +919876543210" />

  <div id="map"></div>

  <p>Click on map to select location</p>
  <button onclick="enterCoordinates()">Enter Coordinates Manually</button>
  <button onclick="sendMessage()">Send Message</button>

  <script>
    let selectedLat = null;
    let selectedLng = null;

    function initMap() {
      const defaultLocation = { lat: 20.5937, lng: 78.9629 };
      const map = new google.maps.Map(document.getElementById("map"), {
        zoom: 5,
        center: defaultLocation,
        styles: [
          { elementType: "geometry", stylers: [{ color: "#1d2c4d" }] },
          { elementType: "labels.text.stroke", stylers: [{ color: "#1a3646" }] },
          { elementType: "labels.text.fill", stylers: [{ color: "#8ec3b9" }] }
        ]
      });

      map.addListener("click", (event) => {
        selectedLat = event.latLng.lat();
        selectedLng = event.latLng.lng();
        alert(`Location selected: ${selectedLat}, ${selectedLng}`);
      });
    }

    function enterCoordinates() {
      const manual = prompt("Enter coordinates as 'lat,lng':");
      if (manual) {
        const [lat, lng] = manual.split(",").map(Number);
        selectedLat = lat;
        selectedLng = lng;
        alert(`Manual location set to: ${selectedLat}, ${selectedLng}`);
      }
    }

    function sendMessage() {
      const number = document.getElementById("number").value.trim();
      if (!number || (!selectedLat || !selectedLng)) {
        alert("Please enter number and select location");
        return;
      }
      const locationUrl = `https://www.google.com/maps?q=${selectedLat},${selectedLng}`;
      const message = encodeURIComponent(`Hey, here's my location: ${locationUrl}`);
      const url = `https://wa.me/${number.replace(/[^\d]/g, '')}?text=${message}`;
      window.open(url, "_blank");
    }
  </script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAfG16zkOmBP2IHCoVkvXc5nf9caENW5QE&callback=initMap">
  </script>
</body>
</html>
